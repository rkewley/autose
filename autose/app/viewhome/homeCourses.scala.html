@(vCourses: MdlCourses)

@import persistence._

@coursePage(vCourses) {


	<div class="column span-14 colborder">
		<h3>@vCourses.vCourseName</h3>
		<div>@vCourses.vCourseDescriptionWebsite</div>
		<hr>
		
		 <h4>@vCourses.vCourseIDNumber References</h4>
		 <ul>
		 @defining(SqlCourseReferences.selectWhere("Course = " + vCourses.vidCourse)) { listCourseReferences =>
		     @defining(listCourseReferences.map(r=>"idReference = " + r.vReference).mkString(" OR ")) { whereClause =>
		       @if(whereClause.length > 0) {
		         @defining(SqlReference.selectWhere(whereClause)) { listReferences =>
		           @listReferences.map { vReference =>
			         <li><a href="@vReference.vLink">@vReference.vTitle.</a>  @vReference.vText</li>
			       }
			     }
			   }
			 }
		 }
		 </ul>
	</div>
	
	<div class="column span-4 last">
		<h4>Course Files<h4>
		@defining(SqlCourseLinks.selectWhere("Course = " + vCourses.vidCourse + " AND IsFileLink = 1")) { listCourseLinks =>
       		@listCourseLinks.map { vCourseLinks =>
         		<p><a href="@vCourseLinks.vLink">@vCourseLinks.vDisplayDescription</a></p>
		 	}
	   	}
		<hr>
		
		<h4>Course Links<h4>
		@defining(SqlCourseLinks.selectWhere("Course = " + vCourses.vidCourse + " AND IsFileLink = 0")) { listCourseLinks =>
       		@listCourseLinks.map { vCourseLinks =>
         		<p><a href="@vCourseLinks.vLink">@vCourseLinks.vDisplayDescription</a></p>
		 	}
	   	}

	</div>
	
}